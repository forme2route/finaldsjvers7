// ** @ K


 var quiztitle = "Free Practice Test 3";

// Question and choices (image question)
 
 var quiz = [
  {
    "question": "",
     "image": "assets/img/signs/1.png",
     "choices":[
    
       "Do not pass",
       "Keep left",
       "Do not enter this road",
       "Keep right"
     ],
     "correct": "Do not enter this road",

   }, 

   {
    "question": "",
    "image": "assets/img/signs/2.png",
    "choices":[
   
      "Slow down , if way is clear proceed",
      "Rest stop ahead",
      "Stop if persons crossing",
      "You must come to a complete stop"
    ],
    "correct": "You must come to a complete stop",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/3.png",
    "choices":[
   
      "Road bends to the left",
      "Stop",
      "Do not turn left at the intersection (no left turn)",
      "Hidden corner"
    ],
    "correct": "Do not turn left at the intersection (no left turn)",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/4.png",
    "choices":[
   
      "U turn ahead",
      "Roundabout ahead",
      "Corner ahead",
      "Road narrows"
      
    ],
    "correct": "Roundabout ahead",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/5.png",
    "choices":[
   
      "One way traffic begins",
      "No entry for cars",
      "Overtaking prohibited",
      "Two way traffic ends"
      
    ],
    "correct": "Overtaking prohibited",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/6.png",
    "choices": [

      "Road is slippery when wet",
      "Winding road ahead",
      "Triple bend",
      "Sharp bend ahead"
    ],
    "correct": "Winding road ahead",
  },

  {
    "question": "",
    "image": "assets/img/signs/7.png",
    "choices":[
   
      "Children at play",
      "Slow down, play area ahead",
      "Road race (marathon ) ahead",
      "Pedestrian crossing"
      
    ],
    "correct": "Pedestrian crossing",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/8.png",
    "choices":[
   
      "Left hand drive vehicles only",
      "Danger ahead",
      "The driver in this lane must turn left",
      "No right turn"
      
    ],
    "correct": "The driver in this lane must turn left",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/9.png",
    "choices":[
   
      "Major road ahead",
      "Give way",
      "Two lanes ahead",
      "Detour ahead"
      
    ],
    "correct": "Give way",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/10.png",
    "choices":[
   
      "Road work ahead",
      "Obstacle in road",
      "Children at play",
      "Road block ahead"
      
    ],
    "correct": "Road work ahead",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/11.png",
    "choices":[
   
      "Pass left or right",
      "Caution obstacle in road",
      "Dual carriageway ahead",
      "Narrow bridge ahead"
      
    ],
    "correct": "Dual carriageway ahead",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/12.png",
    "choices":[
   
      "Railway crossing ahead",
      "Dangerous bend",
      "No overtaking zone",
      "Traffic signal ahead, slow down"
      
    ],
    "correct": "Traffic signal ahead, slow down",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/13.png",
    "choices":[
   
      "Right hand drive vehicles only",
      "Danger ahead",
      "The driver in this lane must turn right",
      "No left turn"
      
    ],
    "correct": "The driver in this lane must turn right",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/14.png",
    "choices":[
   
      "4 way road ahead",
      "Railway crossing ahead",
      "Pedestrian crossing",
      "Road narrows"
      
    ],
    "correct": "Railway crossing ahead",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/15.png",
    "choices":[
   
      "Roundabout ahead",
      "Enter with care",
      "Closed to all vehicles in both directions",
      "U turn starts"
      
    ],
    "correct": "Closed to all vehicles in both directions",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/16.png",
    "choices":[
   
      "Railway crossing",
      "Pedestrian crossing",
      "No stopping",
      "Crossroad ahead"
      
    ],
    "correct": "No stopping",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/17.png",
    "choices":[
   
      "One way ahead",
      "Keep to the right",
      "Straight on",
      "Pass either side"
      
    ],
    "correct": "Straight on",

  }, 


  {
    "question": "",
    "image": "assets/img/signs/18.png",
    "choices":[
   
      "Hidden intersection",
      "Carriageway narrows from both sides",
      "Narrow bridge",
      "One way road ahead"
      
    ],
    "correct": "Carriageway narrows from both sides",

  }, 


  {
    "question": "",
    "image": "assets/img/signs/19.png",
    "choices":[
   
      "Two way traffic begins",
      "No overtaking zone",
      "Intersection ahead",
      "Railway crossing"
      
    ],
    "correct": "Intersection ahead",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/20.png",
    "choices":[
   
      "Road work ahead",
      "Steep hill ahead",
      "Hump ahead or uneven pavement on the road",
      "Bridge ahead"
      
    ],
    "correct": "Hump ahead or uneven pavement on the road",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/21.png",
    "choices":[
   
      "Danger ahead",
      "No right turn",
      "Wrong way",
      "No U turn"
      
    ],
    "correct": "No U turn",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/22.png",
    "choices":[
   
      "No passenger allowed",
      "No passing",
      "No Parking",
      "No pedestrians"
      
    ],
    "correct": "No Parking",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/23.png",
    "choices":[
   
      "Winding road ahead",
      "Slippery road ahead",
      "Sharp bends on roadway",
      "No entry for cars"
      
    ],
    "correct": "Slippery road ahead",

  }, 

  
  {
    "question": "",
    "image": "assets/img/signs/24.png",
    "choices":[
   
      "Pedestrians allowed",
      "No entry for pedestrians",
      "Stop if pedestrians crossing",
      "Hidden crosswalk"
      
    ],
    "correct": "No entry for pedestrians",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/25.png",
    "choices":[
   
      "Leave cycles here",
      "Bikes repairs",
      "Slippery surface",
      "No entry for cycles"
      
    ],
    "correct": "No entry for cycles",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/26.png",
    "choices":[
   
      "Landslide ahead",
      "Loose gravel",
      "No passing here",
      "Slippery road ahead"
      
    ],
    "correct": "Loose gravel",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/27.png",
    "choices":[
   
      "Highway ahead",
      "Traffic either way",
      "Hospital",
      "Two way traffic ahead"
      
    ],
    "correct": "Hospital",

  }, 

  {
    "question": "What does a solid white line means?",
    "image": "assets/img/signs/28.png",
    "choices":[
   
      "Overtake and pas with care",
      "Pass when oncoming traffic ends",
      "One way traffic starts",
      "It is unsafe to pass"
      
    ],
    "correct": "It is unsafe to pass",

  }, 

  {
    "question": "What does a broken white line means?",
    "image": "assets/img/signs/29.png",
    "choices":[
   
      "Driver may pass anytime",
      "Driver must not pass",
      "Driver may pass if the way is clear",
      "Two way traffic"
      
    ],
    "correct": "Driver may pass if the way is clear",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/30.png",
    "choices":[
   
      "School zone",
      "Children at play",
      "Railway crossing",
      "Pedestrian crossing"
      
    ],
    "correct": "Pedestrian crossing",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/31.png",
    "choices":[
   
      "Truck route ahead",
      "Steep descent ahead, you may need to use a lower gear",
      "Watch for trucks traveling down hill",
      "Heavy vehicles 8ft away"
      
    ],
    "correct": "Steep descent ahead, you may need to use a lower gear",

  }, 
  {
    "question": "",
    "image": "assets/img/signs/32.png",
    "choices":[
   
      "No right turn",
      "No overtaking",
      "Carriageway narrows from left",
      "One way ahead"
      
    ],
    "correct": "Carriageway narrows from left",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/33.png",
    "choices":[
   
      "No left turn",
      "No overtaking",
      "Carriageway narrows from right",
      "One way ahead"
      
    ],
    "correct": "Carriageway narrows from right",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/34.png",
    "choices":[
   
      "One way ,do not enter",
      "No overtaking",
      "Narrow bridge ahead",
      "Carriageway narrows from both sides"
      
    ],
    "correct": "Carriageway narrows from both sides",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/35.png",
    "choices":[
   
      "Yield right of way",
      "Stop",
      "No left turn",
      "Hidden intersection ahead"
      
    ],
    "correct": "No left turn",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/36.png",
    "choices":[
   
      "Stop",
      "Yield right of way",
      "Hidden intersection",
      "No right turn"
      
    ],
    "correct": "No right turn",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/37.png",
    "choices":[
   
      "Narrow bridge ahead",
      "Hospital",
      "No overtaking",
      "Railway crossing"
      
    ],
    "correct": "Narrow bridge ahead",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/38.png",
    "choices":[
   
      "Intersection ahead",
      "Do not enter",
      "Railway crossing",
      "Crosswalk ahead"
      
    ],
    "correct": "Railway crossing",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/39.png",
    "choices":[
   
      "Bicycle parking only",
      "Compulsory cycle track",
      "Bicycle for hire",
      "Bicycle repair ahead"
      
    ],
    "correct": "Compulsory cycle track",

  }, 

  {
    "question": "",
    "image": "assets/img/signs/40.png",
    "choices":[
   
      "Keep in the right lane",
      "Traffic may travel in one direction",
      "Do not keep in your lane",
      "Make a U turn"
      
    ],
    "correct": "Traffic may travel in one direction",

  }, 

  

 
 
 ];
 
 /******* No need to edit below this line *********/
 var currentquestion = 0,
   score = 0,
   submt = true,
   picked;
 
 jQuery(document).ready(function($) {
 
   /**
    * HTML Encoding function for alt tags and attributes to prevent messy
    * data appearing inside tag attributes.
    */
   function htmlEncode(value) {
     return $(document.createElement('div')).text(value).html();
   }
 
   /**
    * This will add the individual choices for each question to the ul#choice-block
    *
    * @param {choices} array The choices from each question
    */
   function addChoices(choices) {
     if (typeof choices !== "undefined" && $.type(choices) == "array") {
       $('#choice-block').empty();
       for (var i = 0; i < choices.length; i++) {
         $(document.createElement('li')).addClass('choice choice-box').attr('data-index', i).text(choices[i]).appendTo('#choice-block');
       }
     }
   }
 
   /**
    * Resets all of the fields to prepare for next question
    */
   function nextQuestion() {
     submt = true;
     $('#explanation').empty();
     $('#question').text(quiz[currentquestion]['question']);
     $('#pager').text('Question ' + Number(currentquestion + 1) + ' of ' + quiz.length);
     if (quiz[currentquestion].hasOwnProperty('image') && quiz[currentquestion]['image'] != "") {
       if ($('#question-image').length == 0) {
         $(document.createElement('img')).addClass('question-image').attr('id', 'question-image').attr('src', quiz[currentquestion]['image']).attr('alt', htmlEncode(quiz[currentquestion]['question'])).insertAfter('#question');
       } else {
         $('#question-image').attr('src', quiz[currentquestion]['image']).attr('alt', htmlEncode(quiz[currentquestion]['question']));
       }
     } else {
       $('#question-image').remove();
     }
     addChoices(quiz[currentquestion]['choices']);
     setupButtons();
   }
 
   /**
    * After a selection is submitted, checks if its the right answer
    *
    * @param {choice} number The li zero-based index of the choice picked
    */
   function processQuestion(choice) {
     if (quiz[currentquestion]['choices'][choice] == quiz[currentquestion]['correct']) {
       $('.choice').eq(choice).css({
         'background-color': '#50D943'
       });
       $('#explanation').html('<strong>Correct!</strong> ' + htmlEncode(quiz[currentquestion]['explanation']));
       score++;
     } else {
       $('.choice').eq(choice).css({
         'background-color': '#D92623'
       });
       $('#explanation').html('<strong>Incorrect.</strong> ' + htmlEncode(quiz[currentquestion]['explanation']));
     }
     currentquestion++;
     $('#submitbutton').html('NEXT QUESTION &raquo;').on('click', function() {
       if (currentquestion == quiz.length) {
         endQuiz();
       } else {
         $(this).text('Check Answer').css({
           'color': '#222'
         }).off('click');
         nextQuestion();
       }
     })
   }
 
   /**
    * Sets up the event listeners for each button.
    */
   function setupButtons() {
     $('.choice').on('mouseover', function() {
       $(this).css({
         'background-color': '#e1e1e1'
       });
     });
     $('.choice').on('mouseout', function() {
       $(this).css({
         'background-color': '#fff'
       });
     })
     $('.choice').on('click', function() {
       picked = $(this).attr('data-index');
       $('.choice').removeAttr('style').off('mouseout mouseover');
       $(this).css({
         'border-color': '#222',
         'font-weight': 700,
         'background-color': '#c1c1c1'
       });
       if (submt) {
         submt = false;
         $('#submitbutton').css({
           'color': '#000'
         }).on('click', function() {
           $('.choice').off('click');
           $(this).off('click');
           processQuestion(picked);
         });
       }
     })
   }
 
   /**
    * Quiz ends, display a message.
    */
   function endQuiz() {
     $('#explanation').empty();
     $('#question').empty();
     $('#question-image').remove();
     $('#choice-block').empty();
     $('#submitbutton').remove();
     $('#question').text("You got " + score + " out of " + quiz.length + " correct.");
     $(document.createElement('h2')).css({
       'text-align': 'center',
       'font-size': '4em'
     }).text(Math.round(score / quiz.length * 100) + '%').insertAfter('#question');
   
   }
 
   /**
    * Runs the first time and creates all of the elements for the quiz
    */
   function init() {
     //add title
     if (typeof quiztitle !== "undefined" && $.type(quiztitle) === "string") {
       $(document.createElement('h1')).text(quiztitle).appendTo('#frame');
     } else {
       $(document.createElement('h1')).text("Quiz").appendTo('#frame');
     }
 
     //add pager and questions
     if (typeof quiz !== "undefined" && $.type(quiz) === "array") {
       //add pager
       $(document.createElement('p')).addClass('pager').attr('id', 'pager').text('Question 1 of ' + quiz.length).appendTo('#frame');
       //add first question
       $(document.createElement('h2')).addClass('question').attr('id', 'question').text(quiz[0]['question']).appendTo('#frame');
       //add image if present
       if (quiz[0].hasOwnProperty('image') && quiz[0]['image'] != "") {
         $(document.createElement('img')).addClass('question-image').attr('id', 'question-image').attr('src', quiz[0]['image']).attr('alt', htmlEncode(quiz[0]['question'])).appendTo('#frame');
       }
       $(document.createElement('p')).addClass('explanation').attr('id', 'explanation').html('&nbsp;').appendTo('#frame');
 
       //questions holder
       $(document.createElement('ul')).attr('id', 'choice-block').appendTo('#frame');
 
       //add choices
       addChoices(quiz[0]['choices']);
 
       //add submit button
       $(document.createElement('div')).addClass('choice-box').attr('id', 'submitbutton').text('Check Answer').css({
         'font-weight': 700,
         'color': '#222',
         'padding': '30px 0'
       }).appendTo('#frame');
 
       setupButtons();
     }
   }
 
   init();
 });